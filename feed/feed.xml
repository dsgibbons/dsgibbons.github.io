<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="pretty-atom-feed.xsl" type="text/xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <title>Blog Title</title>
  <subtitle>This is a longer description about your blog.</subtitle>
  <link href="https://example.com/feed/feed.xml" rel="self" />
  <link href="https://example.com/" />
  <updated>2025-05-28T00:00:00Z</updated>
  <id>https://example.com/</id>
  <author>
    <name>Your Name</name>
  </author>
  <entry>
    <title>Rust tips #1: Custom target directory for rust-analyzer</title>
    <link href="https://example.com/blog/rust-analyzer-helix/" />
    <updated>2025-05-28T00:00:00Z</updated>
    <id>https://example.com/blog/rust-analyzer-helix/</id>
    <content type="html">&lt;p&gt;Recently, while working on
&lt;a href=&quot;https://github.com/lancedb/lance/pull/3572&quot;&gt;lancedb/lance#3572&lt;/a&gt;, I noticed that
builds were taking much longer than usual. Simply changing a single character in
one of the unit tests required 100+ crates to be recompiled when running
&lt;code&gt;cargo test&lt;/code&gt;. While waiting for tests to compile, the following message would
appear:&lt;/p&gt;
&lt;pre class=&quot;language-txt&quot; tabindex=&quot;0&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;Blocking waiting for file lock on build directory.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The culprit behind this message is
&lt;a href=&quot;https://rust-analyzer.github.io/&quot;&gt;&lt;code&gt;rust-analyzer&lt;/code&gt;&lt;/a&gt;, which I run as an LSP in
&lt;a href=&quot;https://helix-editor.com/&quot;&gt;Helix&lt;/a&gt;. &lt;code&gt;rust-analyzer&lt;/code&gt; compiles with different
settings to &lt;code&gt;cargo test&lt;/code&gt;, but they both build to the same target directory.
Fortunately, we can easily direct &lt;code&gt;rust-analyzer&lt;/code&gt; to build to a different target
directory by editing &lt;code&gt;~/.config/helix/languages.toml&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&quot;language-toml&quot; tabindex=&quot;0&quot;&gt;&lt;code class=&quot;language-toml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token table class-name&quot;&gt;language-server.rust-analyzer.environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token key property&quot;&gt;CARGO_TARGET_DIR&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;target/analyzer&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See the
&lt;a href=&quot;https://rust-analyzer.github.io/book/configuration.html#cargo.targetDir&quot;&gt;rust-analyzer docs&lt;/a&gt;
for more information.&lt;/p&gt;
</content>
  </entry>
</feed>